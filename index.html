<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoGebra æ•°å­¦å®éªŒå®¤</title>
    <link rel="stylesheet" href="main.css">
    <style>
        /* æ–°å¢é¢œè‰²é€‰æ‹©å™¨æ ·å¼ */
        .color-palette {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: none;
            gap: 4px;
            flex-wrap: wrap;
            width: 120px;
        }

        .color-item {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .color-item:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- æ–‡ä»¶é€‰æ‹©ç•Œé¢ -->
        <div id="file-selector">
            <header>
                <h1>ğŸ“ GeoGebra æ•°å­¦å®éªŒå±•ç¤ºå¹³å°</h1>
                <p>è¯·é€‰æ‹©è¦è¿›è¡Œçš„å®éªŒï¼š</p>
            </header>
            <div id="file-list" class="grid-container"></div>
        </div>

        <!-- GeoGebra å®¹å™¨ -->
        <div id="ggb-container" class="hidden"></div>
    </div>

    <!-- å·¥å…·æ  -->
    <div id="toolbar" class="hidden">
        <div class="drag-handle">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="transform: translateY(2px)">
                <path d="M9 18h12v-2H9v2zM9 13h12v-2H9v2zM9 6v2h12V6H9zm-4 14h2V4H5v16zm-4-4h2V8H1v8z" 
                      fill="currentColor"/>
            </svg>
        </div>
        
        <button class="tool-btn" data-tool="geogebra" title="æ‰“å¼€GeoGebra">
            <svg width="24" height="24" viewBox="0 0 24 24" style="transform: translateY(1px)">
                <path d="M19 13H5v-2h14v2z" fill="currentColor"/>
                <path d="M13 19V5h-2v14h2z" fill="currentColor"/>
            </svg>
        </button>

        <button class="tool-btn" data-tool="draw" id="drawBtn" title="ç»˜å›¾å·¥å…· (å³é”®é€‰æ‹©é¢œè‰²)">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="currentColor"/>
            </svg>
            <div class="color-palette">
                <div class="color-item" style="background: #000000"></div>
                <div class="color-item" style="background: #e53935"></div>
                <div class="color-item" style="background: #1e88e5"></div>
                <div class="color-item" style="background: #43a047"></div>
                <div class="color-item" style="background: #fdd835"></div>
                <div class="color-item" style="background: #8e24aa"></div>
            </div>
        </button>

        <button class="tool-btn" data-tool="erase" title="æ©¡çš®æ“¦">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path d="M16.24 3.56l4.95 4.94c.78.79.78 2.05 0 2.84L12 20.37a3.999 3.999 0 0 1-5.66 0L2.81 17c-.78-.79-.78-2.05 0-2.84l10.83-10.88c.79-.78 2.05-.78 2.83 0zM4.22 15.58l3.54 3.53c.39.39 1.02.39 1.41 0l3.53-3.53-4.95-4.95-3.53 3.95z" fill="currentColor"/>
            </svg>
        </button>

        <button class="tool-btn" data-tool="fullscreen" title="å…¨å±æ¨¡å¼">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" fill="currentColor"/>
            </svg>
        </button>
    </div>

    <canvas id="draw-canvas"></canvas>

    <script src="GeoGebra/deployggb.js"></script>
    <script src="app.js"></script>
</body>
</html>